<html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenEVSE WiFi</title>
    
        
    </head>
    
    <body>
        <link rel="stylesheet" type="text/css" href="style.css">
        <div id="page">
            <div class="box">
            <a href="http://www.openevse.com/"><img src="logo.png" alt="OpenEVSE"></a>
            <p><b>To connect to your WiFi, select a network Enter Password and then enter your OpenEVSE Device Key.</b></p>
            </div>
            <div id="container">
    
    <input id="tab-1" type="radio" name="tab-group" checked="checked" />
    <label for="tab-1">Network</label>
    <input id="tab-2" type="radio" name="tab-group" />
    <label for="tab-2">Status</label>
    <input id="tab-3" type="radio" name="tab-group" />
    <label for="tab-3">RAPI</label>
    <input id="tab-4" type="radio" name="tab-group" />
    <label for="tab-4">Energy</label>
    <div id="content">
      <div id="content-1">
         <div class="box380">
                <h2>Wifi Config</h2>
                <p><b>Mode:</b> <span id="mode"></span></p>
                <div id="client-view" style="display:none">
                    <p><b>Network SSID:</b><br><span id="sta-ssid"></span></p>
                    <p><b>IP Address:</b><br><span id="sta-ip"></span></p>
                    <p><b>Successful packets:</b><br><span id="sta-psuccess"></span> of <span id="sta-psent"></span></p>
                    <p><b>OpenEVSE</b></p>
                    <p><b>RAPI packets:</b><br><span id="comm-psuccess"></span> of <span id="comm-psent"></span></p>

                    <button id="apoff" style="display:none">Turn off Access Point</button>
                    <button id="reset">Reset config and reboot</button>
                </div>
                <div id="ap-view" style="display:none">
                    <p>Connect to network:</p>
                    <table>
                        <tr><th width=20>Select</th><th>Network</th></tr>
                        <tbody id="networks"></tbody>
                    </table>
                    <p><b>Passkey:</b><br>
                    <input id="passkey" type="text" style="width:250px;">
                    <button id="connect">Connect</button>
                    </p>
                </div>
                <div id="wait-view" style="display:none">
                    <p>Connecting to WIFI Network...</p>
                </div>
				<h2>Module</h2>
                <p><b>Firmware:</b><br><span id="version"></span></p>
			    <p><b>Voltage:</b><br><span id="espvcc"></span></p>
			    <p><b>Flash Size:</b><br><span id="espflash"></span></p>
			    <p><b>RAM Free:</b><br><span id="espfree"></span></p>
            </div>
        <div class="box380">
            <a href="https://data.openevse.com/emoncms"><img src="emoncms.png" alt="OpenEVSE Data"></a>
            <p><b>Device key:</b><br>
                <input id="apikey" type="text" style="width:280px;">
                <p><b>Device node:</b><br>
                <input id="node" type="text" style="width:230px;">
                <button id="save-apikey">Save</button>
                </p>
        </div>
        <div class="box380">
            <a href="https://www.ohmconnect.com/"><img src="ohm.png" alt="OhmConnect"></a>
	        <p>OhmConnect monitors real-time conditions on the electricity grid. When dirty and unsustainable power plants turn on, our users receive a notification to save energy.</p>
            <p><b>Ohm Hour: </b><span id="ohmhour"></span></p>
            <p><b>Ohm key:</b><br>
                <input id="ohmkey" type="text" style="width:280px;">
                <button id="save-ohmkey">Save</button>
				<p>Ohm Key can be obtained by logging in to OhmConnect, enter Settings and locate the link in "Open Source Projects"</p>
				<p><b>Example: </b>https://login.ohmconnect.com/verify-ohm-hour/OnEoVse</p>
				<p><b>Key: </b>OnEoVse</p>
				</p>
	    </div>    
    </div>
	<div id="content-2">
			 <div class="box380">
                <h2>Current</h2>
                <table>
                <tr><th>Name</th><th>Value</th></tr>
                <tr><td>Service Level:</td><td><span id="service"></span></td></tr>
                <tr><td>Level 1 Minimum:</td><td><span id="l1min"></span></td></tr>
                <tr><td>Level 1 Maximum:</td><td><span id="l1max"></span></td></tr>
                <tr><td>Level 2 Minimum:</td><td><span id="l2min"></span></td></tr>
                <tr><td>Level 2 Maximum:</td><td><span id="l2max"></span></td></tr>
                <tr><td>Sensor Scale:</td><td><span id="scale"></span></td></tr>
                <tr><td>Sensor Offset:</td><td><span id="offset"></span></td></tr>
                </table>
             </div>
			 <div class="box380">
                <h2>Safety</h2>
                <table>
                <tr><th>Test</th><th>Disabled</th></tr>
                <tr><td>GFCI Self Test:</td><td><span id="gfcit"></span></td></tr>
                <tr><td>Ground Monitoring:</td><td><span id="groundt"></span></td></tr>
                <tr><td>Stuck Contact Detection:</td><td><span id="relayt"></span></td></tr>
                <tr><td>Temperature Monitoring:</td><td><span id="tempt"></span></td></tr>
                <tr><td>Diode Check:</td><td><span id="diodet"></span></td></tr>
                <tr><td>Vent Required:</td><td><span id="ventt"></span></td></tr>
                <tr><th>Error</th><th>Count</th></tr>
                <tr><td>GFCI:</td><td><span id="gfcicount"></span></td></tr>
                <tr><td>No Ground:</td><td><span id="nogndcount"></span></td></tr>
                <tr><td>Stuck Contact:</td><td><span id="stuckcount"></span></td></tr>
                </table>
             </div>
			 <div class="box380">
                <h2>Session Options</h2>
                <table>
                <tr><th>Limits</th><th>Value</th></tr>
                <tr><td>Kwh:</td><td><span id="kwhlimit"></span></td></tr>
                <tr><td>Time:</td><td><span id="timelimit"></span></td></tr>
                </table>
             </div>
			 <div class="box380">
                <h2>Energy</h2>
                <table>
                <tr><th>Energy</th><th>kWh</th></tr>
                <tr><td>This Session:</td><td><span id="wattsec"></span></td></tr>
                <tr><td>Total:</td><td><span id="watthour"></span></td></tr>
                </table>
             </div>
			 <div class="box380">
               <h2>OpenEVSE</h2>
               <p><b>Firmware: </b><span id="firmware"></span></p>
               <p><b>Protocol: </b><span id="protocol"></span></p>
             </div>
             <div class="box380">
               <h2>Latest Values</h2><span id="updated"></span>
               <table>
               <tr><th>Name</th><th>Value</th></tr>
               <tbody id="datavalues"></tbody>
               </table>
             </div>
          </div> 
       <div id="content-3">
		   <div class="box380">
             <iframe style="width:380px; height:450px;" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="/rapi">
          </iframe>   
           </div>
        </div>
        <div id="content-4">
          <iframe style="width:420px; height:300px;" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://data.openevse.com/emoncms/vis/multigraph?mid=3&embed=1">
          </iframe>
        </div>
  </div>
      
    
    </body>
</html>

<script src="config.js"></script>

